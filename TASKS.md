# 午餐點餐平台 - 任務清單

## 專案概述
建立一個公司內部午餐點餐協作平台，支援手機優先的響應式設計，並提供召集人管理店家與品項的功能，最後統整所有點餐資訊與金額。

## 核心功能模組

### 1. 專案架構與環境設定
- [ ] 初始化前端專案（Vue + TypeScript）
- [ ] 設定響應式設計框架（Tailwind CSS / Vuetify / Element Plus）
- [ ] 初始化後端專案（NestJS）
- [ ] 設定資料庫（SQLite/PostgreSQL/MySQL）
- [ ] 配置開發環境與生產環境變數
- [ ] 設定 API 路由結構
- [ ] 配置 CORS 與安全性設定
- [ ] 設定版本控制（Git）與 .gitignore

### 2. 用戶認證與授權系統
- [ ] 設計用戶資料模型（一般用戶 vs 召集人）
- [ ] 實作用戶註冊功能（簡單暱稱或 Email 認證）
- [ ] 實作用戶登入/登出功能
- [ ] 實作角色管理（一般用戶、召集人）****
- [ ] 實作權限控制中間件
- [ ] 實作 Session/JWT 認證機制
- [ ] 設計用戶個人資料頁面

### 3. 店家管理功能（召集人專用）
- [ ] 設計店家資料模型（名稱、聯絡方式、備註等）
- [ ] 建立店家列表頁面（召集人介面）
- [ ] 實作新增店家功能（表單驗證）****
- [ ] 實作編輯店家功能
- [ ] 實作刪除店家功能（含確認機制）
- [ ] 實作店家啟用/停用狀態切換
- [ ] 設計店家卡片/列表 UI（響應式）

### 4. 品項管理功能（召集人專用）
- [ ] 設計品項資料模型（名稱、價格、所屬店家、分類等）
- [ ] 建立品項列表頁面（召集人介面）
- [ ] 實作新增品項功能（關聯到店家）
- [ ] 實作編輯品項功能
- [ ] 實作刪除品項功能
- [ ] 實作品項啟用/停用狀態切換
- [ ] 實作批量匯入品項功能（可選：CSV/Excel）
- [ ] 設計品項卡片/列表 UI（響應式）

### 5. 點餐功能（所有用戶）
- [ ] 設計點餐資料模型（用戶、品項、數量、備註等）
- [ ] 建立點餐主頁面（顯示可用店家）
- [ ] 實作瀏覽店家列表功能
- [ ] 實作瀏覽店家品項功能
- [ ] 實作加入購物車功能
- [ ] 實作購物車管理（增加/減少數量、刪除）
- [ ] 實作訂單備註功能
- [ ] 實作提交點餐功能
- [ ] 實作修改已提交點餐功能（在截止時間前）
- [ ] 實作取消點餐功能
- [ ] 設計手機優先的點餐介面 UI

### 6. 訂單管理與統整功能
- [ ] 設計訂單統整資料模型（日期、店家、總金額等）
- [ ] 建立訂單統整頁面（召集人介面）
- [ ] 實作查看當日所有點餐功能
- [ ] 實作按店家分組顯示點餐項目
- [ ] 實作計算總金額功能（含個人分攤計算）
- [ ] 實作匯出訂單功能（PDF/Excel/CSV）
- [ ] 實作訂單統計圖表（可選）
- [ ] 設計訂單統整報表 UI
- [ ] 實作訂單截止時間設定（召集人）
- [ ] 實作訂單狀態管理（開放點餐、已截止、已完成）

### 7. 歷史記錄功能
- [ ] 設計歷史訂單資料模型
- [ ] 建立歷史訂單列表頁面
- [ ] 實作查看歷史訂單功能
- [ ] 實作歷史訂單搜尋功能（日期範圍、店家）
- [ ] 設計歷史記錄 UI

### 8. 通知與提醒功能（可選）
- [ ] 實作訂單截止提醒（Email/Line/推播）
- [ ] 實作訂單統整完成通知
- [ ] 實作點餐開始通知
- [ ] 設定通知偏好設定

### 9. 手機優化與響應式設計
- [ ] 優化手機版導航選單（漢堡選單）
- [ ] 優化觸控操作體驗
- [ ] 實作手機版點餐流程優化
- [ ] 測試各種手機螢幕尺寸適配
- [ ] 優化圖片載入與效能
- [ ] 實作 PWA 功能（可選：離線使用、安裝到桌面）

### 10. API 開發
- [ ] 設計 RESTful API 規格文件
- [ ] 實作用戶認證相關 API
- [ ] 實作店家管理相關 API
- [ ] 實作品項管理相關 API
- [ ] 實作點餐相關 API
- [ ] 實作訂單統整相關 API
- [ ] 實作 API 錯誤處理
- [ ] 實作 API 請求驗證與資料驗證
- [ ] 設定 API 速率限制

### 11. 資料庫設計
- [ ] 設計用戶資料表（Users）
- [ ] 設計店家資料表（Stores）
- [ ] 設計品項資料表（Items）
- [ ] 設計點餐資料表（Orders）
- [ ] 設計訂單項目資料表（OrderItems）
- [ ] 設計關聯表與外鍵約束
- [ ] 設計資料庫索引優化
- [ ] 實作資料庫遷移腳本

### 12. 測試
- [ ] 撰寫單元測試（前端組件）
- [ ] 撰寫單元測試（後端 API）
- [ ] 撰寫整合測試
- [ ] 實作 E2E 測試（可選）
- [ ] 進行跨瀏覽器測試
- [ ] 進行手機裝置實機測試

### 13. 部署與維護
- [ ] 選擇部署平台（Vercel/Netlify + Heroku/AWS/VPS）
- [ ] 設定生產環境資料庫
- [ ] 設定 CI/CD 流程
- [ ] 設定域名與 SSL 憑證
- [ ] 設定監控與日誌系統
- [ ] 撰寫部署文件
- [ ] 建立備份機制

### 14. 文件撰寫
- [ ] 撰寫專案 README.md
- [ ] 撰寫 API 文件
- [ ] 撰寫使用者手冊（召集人版）
- [ ] 撰寫使用者手冊（一般用戶版）
- [ ] 撰寫開發者文件
- [ ] 撰寫部署文件

## 技術建議

### 前端技術棧
- **框架**: Vue + TypeScript
- **UI 框架**: Tailwind CSS 或 Vuetify/Element Plus（支援響應式設計）
- **狀態管理**: Pinia
- **路由**: Vue Router
- **HTTP 客戶端**: Axios
- **表單處理**: VeeValidate 

### 後端技術棧
- **框架**: NestJS
- **資料庫**: PostgreSQL 或 MySQL（開發階段可用 SQLite）
- **ORM**: TypeORM（NestJS 官方推薦）或 Prisma
- **認證**: JWT 或 Session

### 認證方式建議
考慮到是公司內部使用，建議採用：
- **簡單暱稱登入**：快速上手，無需複雜註冊流程
- 或 **Email + 密碼**：較正式，便於追蹤

## 開發優先順序建議

### Phase 1: MVP（最小可行產品）
1. 專案架構與環境設定
2. 基本用戶認證（簡單暱稱登入）
3. 店家管理功能（召集人）
4. 品項管理功能（召集人）
5. 基本點餐功能
6. 訂單統整功能

### Phase 2: 優化與擴充
1. 手機優化與響應式設計
2. 歷史記錄功能
3. 訂單狀態管理
4. 進階 UI/UX 優化

### Phase 3: 進階功能
1. 通知與提醒功能
2. PWA 功能
3. 統計圖表
4. 批量匯入功能

## 注意事項

1. **資料安全**：確保點餐資料僅供內部使用，設定適當的存取權限
2. **效能優化**：手機網路可能較慢，需優化 API 回應時間與前端載入速度
3. **使用者體驗**：點餐流程應簡單直覺，減少操作步驟
4. **錯誤處理**：提供清楚的錯誤訊息與操作指引
5. **資料備份**：定期備份訂單資料，避免資料遺失
